<!DOCTYPE html>
<html lang="en">
<script language="javascript">
    function changeImage(clicked_id) {

        var xhttp = new XMLHttpRequest();
        console.log(clicked_id);

        if(clicked_id == "onLights"){
            xhttp.open("GET", "/poolLight/on", true);
            xhttp.send();
        }
        else if(clicked_id == "onWaterfall"){
            xhttp.open("GET", "/waterfall/on", true);
            xhttp.send();
        }
        else if(clicked_id == "onPump"){
            xhttp.open("GET", "/pump/on", true);
            xhttp.send();
        }
        else if(clicked_id == "offLights"){
            xhttp.open("GET", "/poolLight/off", true);
            xhttp.send();
        }
        else if(clicked_id == "offWaterfall"){
            xhttp.open("GET", "/waterfall/off", true);
            xhttp.send();
        }
        else if(clicked_id == "offPump"){
            xhttp.open("GET", "/pump/off", true);
            xhttp.send();
        }
    }
</script>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="10" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename= 'css/style.css') }}">
    <title>Pool Service</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='images/apple-touch-icon_120x120.png') }}">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ url_for('static', filename='images/touch-icon-iPad-76x76.png') }}">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ url_for('static', filename='images/apple-touch-icon_120x120.png') }}">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ url_for('static', filename='images/touch-icon-ipad-retina-152x152.png') }}">
</head>
<header>
    <h1>Pool Service</h1>
</header>
<body>
<h2><b>Controls</b></h2>
<div class="row">
    <div class="column">
        <p>Pool Lights: {{ poolLightStatus }}</p>
        <button class="button" id = "onLights" onclick="changeImage(this.id)">On</button>
        <button class="button" id = "offLights" onclick="changeImage(this.id)">Off</button>
    </div>
</div>
<div class="row">
    <div class="column">
        <p>Waterfall: {{ waterfallStatus }}</p>
        <button class="button" id = "onWaterfall" onclick="changeImage(this.id)">On</button>
        <button class="button" id = "offWaterfall" onclick="changeImage(this.id)">Off</button>
    </div>
</div>
<div class="row">
    <div class="column">
        <p>Pool Pump: {{ poolPumpStatus }}</p>
        <button class="button" id = "onPump" onclick="changeImage(this.id)">On</button>
        <button class="button" id = "offPump" onclick="changeImage(this.id)">Off</button>
    </div>
</div>
<h2><b>Statistics</b></h2>
<div class="row">
    <div class="column">
        <p class = "temp">Outdoor Temperature: {{ outdoorT }}<span>&#176;</span> F</p>
    </div>
</div>
<div class="row">
    <div class="column">
        <p class = "temp">Pool Temperature: {{ poolT }}<span>&#176;</span> F</p>
    </div>
</div>
</body>
<footer class="footer">
    <p class="footer">Author: Jacob Byerline</p>
    <p class="footer"><a href="mailto:jbyerline@gmail.com">jbyerline@gmail.com</a></p>
    <p class="footer">Local Date: {{ time }}</p>
</footer>
</html>